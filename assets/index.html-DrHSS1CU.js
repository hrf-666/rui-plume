import{_ as a}from"./16.Redis集群不保证强一致性-XmaO9Pfl.js";import{_ as e,c as t,b as r,o as i}from"./app-BxaswAnj.js";const n="/rui-plume/assets/28.%E9%9B%86%E7%BE%A4%E4%B8%BB%E4%BB%8E%E6%9F%A5%E7%9C%8B-DiekLzLP.png",p="/rui-plume/assets/27.%E4%BB%8E%E6%9C%BA%E4%B8%8A%E4%BD%8D-XQmZJ4Qp.png",c="/rui-plume/assets/29.%E9%9B%86%E7%BE%A4%E4%B8%BB%E8%8A%82%E7%82%B9%E6%81%A2%E5%A4%8D%E5%89%8D-DtwAz4c-.png",l="/rui-plume/assets/30.%E9%9B%86%E7%BE%A4%E4%B8%BB%E8%8A%82%E7%82%B9%E6%81%A2%E5%A4%8D%E5%90%8E-D4-6wEcX.png",o="/rui-plume/assets/31.6391%E4%B8%8A%E4%BD%8D%E5%91%BD%E4%BB%A4-CSdi4Y5A.png",m={};function d(h,s){return i(),t("div",null,[...s[0]||(s[0]=[r('<h1 id="主从容错切换迁移" tabindex="-1"><a class="header-anchor" href="#主从容错切换迁移"><span>主从容错切换迁移</span></a></h1><h3 id="容错切换迁移" tabindex="-1"><a class="header-anchor" href="#容错切换迁移"><span>容错切换迁移</span></a></h3><ul><li><p>主6381和从机切换，先停止主机6381</p><p>6381主机停了，对应的真实从机上位</p><p>6381作为1号主机分配的从机以实际情况为准，具体是几号机器就是几号机器</p></li><li><p>再次查看集群信息，本次6381主6384从</p><p><img src="'+n+'" alt=""></p></li><li><p>停止主机6381，再次查看集群信息</p><p><img src="'+p+'" alt=""></p><p>6384成功上位</p></li><li><p>随后，6381原来的主机回来了，是否会上位？</p><p>恢复前：<img src="'+c+'" alt=""></p><p>恢复后：<img src="'+l+'" alt=""></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mstyle mathsize="1.2em"><mn>6381</mn><mtext>不会上位并以从节点形式回归</mtext></mstyle></mstyle></mrow><annotation encoding="application/x-tex">\\textcolor{red}{\\large 6381不会上位并以从节点形式回归}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.82em;"></span><span class="mord sizing reset-size6 size7" style="color:red;">6381</span><span class="mord cjk_fallback sizing reset-size6 size7" style="color:red;">不会上位并以从节点形式回归</span></span></span></span></p></li></ul><h3 id="集群不保证数据一致性100-ok-是会有数据丢失的情况" tabindex="-1"><a class="header-anchor" href="#集群不保证数据一致性100-ok-是会有数据丢失的情况"><span>集群不保证数据一致性100%OK，是会有数据丢失的情况</span></a></h3><p>Redis集群不保证强一致性这意味着在特定的条件下，Redis集群可能会丢掉一些被系统收到的写入请求命令</p><p><img src="'+a+'" alt=""></p><h3 id="手动故障转移or节点从属调整该如何处理" tabindex="-1"><a class="header-anchor" href="#手动故障转移or节点从属调整该如何处理"><span>手动故障转移or节点从属调整该如何处理</span></a></h3><p>上面6381宕机后，6381鸡儿6384主从对调了，和原始设计图不一样了,该如何调换主从位置呢</p><p>重新登录6381机器</p><p>常用命令：cluster failover</p><p><img src="'+o+'" alt=""></p>',11)])])}const u=e(m,[["render",d]]),g=JSON.parse('{"path":"/article/zl0nda6c/","title":"6.主从容错切换迁移","lang":"zh-CN","frontmatter":{"title":"6.主从容错切换迁移","createTime":"2025/08/25 22:29:43","permalink":"/article/zl0nda6c/","watermark":true},"readingTime":{"minutes":1.14,"words":343},"git":{"createdTime":1756136329000,"updatedTime":1756136329000,"contributors":[{"name":"HRF","username":"HRF","email":"3398775460@qq.com","commits":1,"avatar":"https://avatars.githubusercontent.com/HRF?v=4","url":"https://github.com/HRF"}]},"filePathRelative":"study-notes/back-end/redis/10.Redis集群(cluster)/6.主从容错切换迁移.md","headers":[],"categoryList":[{"id":"3c4c90","sort":10002,"name":"study-notes"},{"id":"fe643d","sort":10003,"name":"back-end"},{"id":"46b09b","sort":10033,"name":"redis"},{"id":"9fbdec","sort":10,"name":"Redis集群(cluster)"}]}');export{u as comp,g as data};

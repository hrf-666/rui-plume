import{_ as a,c as e,b as p,o as t}from"./app-BxaswAnj.js";const i="/rui-plume/assets/3.%E4%B8%BB%E4%BB%8E%E6%9E%B6%E6%9E%84-Da0DHOKO.jpg",r="/rui-plume/assets/5.%E9%85%8D%E7%BD%AEprotected-mode-DwEDKsXY.jpg",l="/rui-plume/assets/6.%E9%85%8D%E7%BD%AEdir-WaKngbZ4.jpg",o="/rui-plume/assets/7.%E9%85%8D%E7%BD%AEpidfile-BRRKmibb.jpg",m="/rui-plume/assets/8.%E9%85%8D%E7%BD%AElogfile-DFH-9iJZ.jpg",n="/rui-plume/assets/10%E9%85%8D%E7%BD%AEdump.rdb%E5%90%8D%E5%AD%97-C_3-2dhS.jpg",c="/rui-plume/assets/11.%E9%85%8D%E7%BD%AEappendfilename-ssibJu-B.jpg",d="/rui-plume/assets/12.%E4%BB%8E%E6%9C%BA%E9%85%8D%E7%BD%AE%E4%B8%BB%E6%9C%BA%E5%AF%86%E7%A0%81-C0MrdK1y.jpg",h={};function u(g,s){return t(),e("div",null,[...s[0]||(s[0]=[p('<h1 id="案例演示-配置文件" tabindex="-1"><a class="header-anchor" href="#案例演示-配置文件"><span>案例演示-配置文件</span></a></h1><h3 id="架构说明" tabindex="-1"><a class="header-anchor" href="#架构说明"><span>架构说明</span></a></h3><p>一个Master两个Slave，三台虚拟机，每台都安装redis</p><p><img src="'+i+'" alt=""></p><p>拷贝多个redis.conf文件</p><p>redis6379.conf、redis6380.conf、redis6381.conf</p><h3 id="小口诀" tabindex="-1"><a class="header-anchor" href="#小口诀"><span>小口诀</span></a></h3><p>三台虚拟机需要能相互ping通且需要注意防火墙配置</p><p>三大命令：</p><ol><li><p>主从复制</p><p>replicaof 主库IP 主库端口，配从(库)不配主(库)</p></li><li><p>改换门庭</p><p>slaveof 新主库IP 新主库端口</p></li><li><p>自立为王</p><p>slaveof no one</p></li></ol><h3 id="修改配置文件细节操作" tabindex="-1"><a class="header-anchor" href="#修改配置文件细节操作"><span>修改配置文件细节操作</span></a></h3><p>redis6379.conf为例，步骤如下：</p><ol><li><p>开启daemonize yes</p><p>![](images/4.配置daemonize .jpg)</p></li><li><p>注释掉bind 127.0.0.1</p></li><li><p>protected-mode no</p><p><img src="'+r+'" alt=""></p></li><li><p>指定端口</p></li><li><p>指定当前工作目录，dir</p><p><img src="'+l+'" alt=""></p></li><li><p>pid文件名字，pidfile</p><p><img src="'+o+'" alt=""></p></li><li><p>log文件名字，logfile</p><p><strong>如果日志文件和启动文件同级，这里可以配置为./6379.log，否则这里一定要写绝对路径，是个巨坑！！！</strong></p><p><img src="'+m+'" alt=""></p></li><li><p>requiredpass</p><p>![](images/9.配置requiredpass .jpg)</p></li><li><p>dump.rdb名字</p><p><img src="'+n+'" alt=""></p></li><li><p>aof文件，appendfilename</p><p><img src="'+c+'" alt=""></p></li><li><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mtext>从机访问主机的通行密码</mtext><mi>m</mi><mi>a</mi><mi>s</mi><mi>t</mi><mi>e</mi><mi>r</mi><mi>a</mi><mi>u</mi><mi>t</mi><mi>h</mi><mtext>，必须配置</mtext></mstyle></mrow><annotation encoding="application/x-tex">\\textcolor{red}{从机访问主机的通行密码masterauth，必须配置}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord cjk_fallback" style="color:red;">从机访问主机的通行密码</span><span class="mord mathnormal" style="color:red;">ma</span><span class="mord mathnormal" style="color:red;">s</span><span class="mord mathnormal" style="color:red;">t</span><span class="mord mathnormal" style="margin-right:0.02778em;color:red;">er</span><span class="mord mathnormal" style="color:red;">a</span><span class="mord mathnormal" style="color:red;">u</span><span class="mord mathnormal" style="color:red;">t</span><span class="mord mathnormal" style="color:red;">h</span><span class="mord cjk_fallback" style="color:red;">，必须配置</span></span></span></span></p><p><img src="'+d+'" alt=""></p><p><strong>从机需要配置，主机不用</strong></p></li></ol>',13)])])}const f=a(h,[["render",u]]),_=JSON.parse('{"path":"/article/u01yfi7o/","title":"2.案例演示-配置文件","lang":"zh-CN","frontmatter":{"title":"2.案例演示-配置文件","createTime":"2025/08/25 22:29:42","permalink":"/article/u01yfi7o/","watermark":true},"readingTime":{"minutes":1.07,"words":320},"git":{"createdTime":1756136329000,"updatedTime":1756136329000,"contributors":[{"name":"HRF","username":"HRF","email":"3398775460@qq.com","commits":1,"avatar":"https://avatars.githubusercontent.com/HRF?v=4","url":"https://github.com/HRF"}]},"filePathRelative":"study-notes/back-end/redis/8.Redis复制(replica)/2.案例演示-配置文件.md","headers":[],"categoryList":[{"id":"3c4c90","sort":10002,"name":"study-notes"},{"id":"fe643d","sort":10003,"name":"back-end"},{"id":"46b09b","sort":10033,"name":"redis"},{"id":"add91c","sort":8,"name":"Redis复制(replica)"}]}');export{f as comp,_ as data};

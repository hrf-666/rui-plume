import{_ as s,c as n,b as t,o as i}from"./app-BxaswAnj.js";const r="/rui-plume/assets/6.sentinel%E9%85%8D%E7%BD%AE-D4GBS5k5.png",a="/rui-plume/assets/7.sentinel%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AE-CXn8fiDA.png",p="/rui-plume/assets/8.sentinel%E9%83%A8%E7%BD%B2-BEzD7ioC.png",l="/rui-plume/assets/9.%E6%9E%B6%E6%9E%84%E8%AF%B4%E6%98%8E-BUefkoKS.png",c="/rui-plume/assets/10.%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AEmaster%E8%AE%BF%E9%97%AE%E5%AF%86%E7%A0%81-B7V65AG7.png",o="/rui-plume/assets/11.sentinel%E5%90%AF%E5%8A%A8%E6%96%B9%E5%BC%8F-BKzDeFL1.png",d="/rui-plume/assets/12.sentinel%E5%90%AF%E5%8A%A8%E7%BB%93%E6%9E%9C%E6%9F%A5%E8%AF%A2-BZLtmPds.png",m="/rui-plume/assets/13.sentinel%E6%96%87%E4%BB%B6%E9%87%8D%E5%86%99-BnSs5zrr.png",E={};function u(h,e){return i(),n("div",null,[...e[0]||(e[0]=[t('<h1 id="sentinel通用配置及主从配置" tabindex="-1"><a class="header-anchor" href="#sentinel通用配置及主从配置"><span>sentinel通用配置及主从配置</span></a></h1><h3 id="sentinel26379-conf、sentinel26380-conf、sentinel26381-conf" tabindex="-1"><a class="header-anchor" href="#sentinel26379-conf、sentinel26380-conf、sentinel26381-conf"><span>sentinel26379.conf、sentinel26380.conf、sentinel26381.conf</span></a></h3><p><img src="'+r+'" alt=""></p><h3 id="最终配置" tabindex="-1"><a class="header-anchor" href="#最终配置"><span>最终配置</span></a></h3><p><img src="'+a+'" alt=""></p><h3 id="master主机配置文件说明" tabindex="-1"><a class="header-anchor" href="#master主机配置文件说明"><span>master主机配置文件说明</span></a></h3><p>理论上sentinel配置文件应该部署在不同的服务器上，做成集群，但是本次演示将其放到一台机器上</p><p><img src="'+p+'" alt=""></p><h3 id="先启动一主二从3个redis实例-测试正常的主从复制" tabindex="-1"><a class="header-anchor" href="#先启动一主二从3个redis实例-测试正常的主从复制"><span>先启动一主二从3个redis实例，测试正常的主从复制</span></a></h3><ul><li><p>架构说明</p><p><img src="'+l+'" alt=""></p></li><li><p>主机6379配置修改</p><p><img src="'+c+'" alt=""></p><p>6379后续可能会变成从机，需要设置访问新主机的密码，所以此处会设置masterauth，<strong>不然后续可能会报错 master_link_status:down</strong></p></li><li><p>3台不同的虚拟机实例，启动三台真是机器实例并连接</p><p>redis-server redis6379.conf</p><p>redis-server redis6380.conf</p><p>redis-server redis6381.conf</p><p>redis-cli -a 123456 -p 6379</p><p>redis-cli -a 123456 -p 6380</p><p>redis-cli -a 123456 -p 6381</p></li><li><p>sentinel的两种启动方式</p><p><img src="'+o+'" alt=""></p></li><li><p>再启动3个哨兵监控后再测试一次主从复制</p><p>redis-server sentinel26379.conf --sentinel</p><p>redis-server sentinel26380.conf --sentinel</p><p>redis-server sentinel26381.conf --sentinel</p><p><img src="'+d+'" alt=""></p></li></ul><p>启动后我们会发现sentinel配置文件会自动在配置文件中加上部分配置</p><p><img src="'+m+'" alt=""></p>',12)])])}const B=s(E,[["render",u]]),g=JSON.parse('{"path":"/article/2u0uppgk/","title":"3.sentinel通用配置及主从复制","lang":"zh-CN","frontmatter":{"title":"3.sentinel通用配置及主从复制","createTime":"2025/08/25 22:29:43","permalink":"/article/2u0uppgk/","watermark":true},"readingTime":{"minutes":1.08,"words":324},"git":{"createdTime":1756136329000,"updatedTime":1756136329000,"contributors":[{"name":"HRF","username":"HRF","email":"3398775460@qq.com","commits":1,"avatar":"https://avatars.githubusercontent.com/HRF?v=4","url":"https://github.com/HRF"}]},"filePathRelative":"study-notes/back-end/redis/9.Redis哨兵(sentinel)/3.sentinel通用配置及主从复制.md","headers":[],"categoryList":[{"id":"3c4c90","sort":10002,"name":"study-notes"},{"id":"fe643d","sort":10003,"name":"back-end"},{"id":"46b09b","sort":10033,"name":"redis"},{"id":"a9eb91","sort":9,"name":"Redis哨兵(sentinel)"}]}');export{B as comp,g as data};
